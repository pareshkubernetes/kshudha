<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kshudha Catering</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body style="font-family: Arial, sans-serif; margin: 0; padding: 0;">
    <header style="background-color: #70460b; color: white; padding: 20px; text-align: center;">
        <img src="logo-blue-sky.png" alt="Kshudha Bhaji Pav Catering Logo" style="width: 150px;">
        <h1>Kshudha Bhaji Pav Catering</h1>
        <p>Serving delicious Bhaji Pav in Dallas, TX</p>
    </header>
    <main style="padding: 20px;">

        <div class="container">
            <h1>Welcome to Kshudha Catering </h1>
            <p>Hello, I am Paresh Patel, bringing you the authentic and mouth-watering taste of India's most beloved
                street foods right here in Dallas! With over 20 years of experience and countless compliments, I offer
                an unforgettable taste of home with signature dishes like:</p>
            <p><b>Bhaji-Pav, Vada Pav, Dabeli, Pani-Puri, Samosa, Puff and more...</b><br><br><br><br>
                Each dish is crafted using the freshest ingredients and traditional spices, delivering an experience
                that takes you straight to the vibrant streets of India.<br><br>
                Our food is perfect for any gathering â€“ be it family get-togethers, office events, or parties. Let us
                bring the vibrant flavors of India to your next event. Prices are customizable based on your
                needs.<br><br>
                We cater anywhere in Dallas, TX. </p>

            <!-- Menu Section -->
            <div class="menu-section container">
                <img src="Bhazi-pav2.png" alt="Bhaji Pav">
                <h2>Our Menu</h2>

                <!-- Bhaji Pav Item -->
                <div class="menu-item">
                    <img src="Bhazi-pav1.png" alt="Bhaji Pav">
                    <div>
                        <h3>Bhaji Pav (Butter)</h3>
                        <p>Delicious buttered bhaji Pav with our special masala.</p>
                        <p><span>Small : Serves 20 $140 Reg / Jain</span></p>
                        <p><span>Med : Serves 30 $200 Reg / Jain</span></p>
                        <p><span>Large : Serves 40 $250 Reg / Jain</span></p>
                    </div>
                </div>
                <!-- Bhaji Pav with Chutney Item -->
                <div class="menu-item">
                    <img src="Bhazi-pav3.png" alt="Bhaji Pav">
                    <div>
                        <h3>Bhaji Pav (Butter)</h3>
                        <p>Delicious buttered bhaji Pav with our special masala.</p>
                        <p><span>Small : Serves 20 $160 w Chutney</span></p>
                        <p><span>Med : Serves 30 $225 w Chutney</span></p>
                        <p><span>Large : Serves 40 $280 w Chutney</span></p>
                    </div>
                </div>
                <!-- Tava Pulav Item -->
                <div class="menu-item">
                    <img src="tava-pulao1.png" alt="Tava Pulao">
                    <div>
                        <h3>Tava Pulao</h3>
                        <p>Basmati rice stir-fried with vegetables and spices on a hot tava, delivering bold flavors and
                            street-style zest.</p>
                        <p><span>Small : Serves 10-12 $50 w Raita</span></p>
                        <p><span>Full : Serves 20-25 $90 w Raita</span></p>
                    </div>
                </div>
                <!-- Samosa Item -->
                <div class="menu-item">
                    <img src="samosa-2.png" alt="Samosa">
                    <div>
                        <h3>Samosa</h3>
                        <p>Golden fried samosas filled with spiced potatoes and peas.</p>
                        <span>$3/pc min order 25 pieces</span>
                    </div>
                </div>

                <!-- Puff Item -->
                <div class="menu-item">
                    <img src="puff1.png" alt="Puff">
                    <div>
                        <h3>Puff</h3>
                        <p>Flaky pastry filled with a savory mix of vegetables and spices.</p>
                        <span>$3/pc min order 25 pieces</span>
                    </div>
                </div>

                <!-- Vada Pav Item -->
                <div class="menu-item">
                    <img src="vada-pav2.png" alt="Vada Pav">
                    <div>
                        <h3>Vada Pav</h3>
                        <p>Spicy potato fritter sandwiched in a bun with tangy chutney.</p>
                        <span>$3/pc min order 25 pieces</span>
                    </div>
                </div>

                <!-- Dabeli Item -->
                <div class="menu-item">
                    <img src="dabeli-2.png" alt="Dabeli">
                    <div>
                        <h3>Dabeli</h3>
                        <p>Sweet and spicy dabeli with pomegranate and peanuts.</p>
                        <span>$3/pc min order 25 pieces</span>
                    </div>
                </div>
                <!-- Khichu Item -->
                <div class="menu-item">
                    <img src="khichu-2.png" alt="Khichu">
                    <div>
                        <h3>Khichu / Papdi Lot</h3>
                        <p>Made with rice flour and green chilies, a few spices, served hot with peanut oil and pickle
                            masala.</p>
                        <p><span>Half tray : Serves 10-12 for $35</span></p>
                        <p><span>Full tray : Serves 20-25 for $70</span></p>
                    </div>
                </div>
                <!-- Chole Puri Item -->
                <div class="menu-item">
                    <img src="chole-puri1.png" alt="Chole Puri">
                    <div>
                        <h3>Chole Puri</h3>
                        <p>A classic North Indian combo featuring spicy chickpea curry (Chole) paired with fluffy,
                            deep-fried bread (Puri), perfect for a hearty meal.</p>
                        <p><span>Half tray : Serves 10-12 for $70</span></p>
                        <p><span>Full tray : Serves 20-25 for $140</span></p>
                    </div>
                </div>
                <!-- Chole Item -->
                <div class="menu-item">
                    <img src="chole1.png" alt="Chole">
                    <div>
                        <h3>Chole</h3>
                        <p>A flavorful, spiced chickpea curry cooked with tomatoes, onions, and aromatic Indian spices
                            for a rich, savory taste.</p>
                        <p><span>Half tray : Serves 10-12 for $45</span></p>
                        <p><span>Full tray : Serves 20-25 for $85</span></p>
                    </div>
                </div>
                <!-- Puri Item -->
                <div class="menu-item">
                    <img src="puri1.jpg" alt="Puri">
                    <div>
                        <h3>Puri</h3>
                        <p>Light, golden, deep-fried bread made from wheat flour, puffed to perfection, ideal for
                            scooping up delicious curries.</p>
                        <p><span>Half tray : Serves 10-12 for $30</span></p>
                        <p><span>Full tray : Serves 20-25 for $60</span></p>
                    </div>
                </div>
                <!-- End of Menu Section -->
                <p><b><i>Let us bring the vibrant flavors of India to your next event.<br>Prices are customizable based
                            on
                            your needs.</i></b></p></br></br>
                <div style="text-align: center; margin: 20px 0;">
                    <a href="/gallery" class="styled-button">Visit Our Catering Gallery</a>
                    <a href="/review" class="styled-button">View & Leave Reviews</a>
                </div></br>
                <p class="professional-text">What are you waiting for? Just fill out the details below and we will get
                    back
                    to you promptly, or call us at <a href="tel:+18474819457" style="color: #4CAF50;">(847) 481-9457</a>
                    to
                    discuss your catering needs!</p>
                <p><i>We are located near Sams Club, Irving - TX</i></p>
                <form id="contactForm">
                    <input type="text" id="name" name="name" placeholder="Your Full Name" required>
                    <span class="error" id="nameError"></span>

                    <input type="email" id="email" name="email" placeholder="Your Email" required>
                    <span class="error" id="emailError"></span>

                    <input type="tel" id="phone" name="phone" placeholder="Your Phone" required>
                    <span class="error" id="phoneError"></span>

                    <textarea id="address" name="address" placeholder="Your Address" rows="3" required></textarea>
                    <span class="error" id="addressError"></span>

                    <button type="submit">Submit</button>
                </form>
                <p id="responseMessage"></p>
            </div>

            <script>
                document.getElementById('contactForm').addEventListener('submit', function (event) {
                    event.preventDefault(); // Prevent form from submitting

                    // Clear previous error messages
                    document.getElementById('nameError').textContent = '';
                    document.getElementById('emailError').textContent = '';
                    document.getElementById('phoneError').textContent = '';
                    document.getElementById('addressError').textContent = '';
                    document.getElementById('responseMessage').textContent = '';

                    // Get form values
                    const name = document.getElementById('name').value.trim();
                    const email = document.getElementById('email').value.trim();
                    const phone = document.getElementById('phone').value.trim();
                    const address = document.getElementById('address').value.trim();

                    // Validation flags
                    let valid = true;

                    // Name Validation: 2 to 4 words
                    const nameWords = name.split(/\s+/);
                    if (nameWords.length < 2 || nameWords.length > 4) {
                        document.getElementById('nameError').textContent = 'Name must be between 2 and 4 words.';
                        valid = false;
                    }

                    // Email Validation: Basic email format
                    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                    if (!emailPattern.test(email)) {
                        document.getElementById('emailError').textContent = 'Please enter a valid email address.';
                        valid = false;
                    }

                    // Phone Validation: 10 digits with optional spaces, () and -
                    const phonePattern = /^[\d\s()-]{10,15}$/;
                    const cleanedPhone = phone.replace(/\D/g, ''); // Remove all non-digits
                    if (!phonePattern.test(phone) || cleanedPhone.length !== 10) {
                        document.getElementById('phoneError').textContent = 'Phone must be 10 digits.';
                        valid = false;
                    }

                    // Address Validation: Should not be empty
                    if (address.length === 0) {
                        document.getElementById('addressError').textContent = 'Address is required.';
                        valid = false;
                    }
                    // If all validations pass
                    if (valid) {
                        // Send data to server
                        fetch('/save', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ name, email, phone, address })
                        })
                            .then(response => response.json())
                            .then(data => {
                                if (data.message) {
                                    document.getElementById('responseMessage').textContent = 'Thank you for the details, we will get back to you soon!';

                                    // Clear the form fields
                                    document.getElementById('contactForm').reset();

                                    // Remove the message after 5 seconds
                                    setTimeout(() => {
                                        document.getElementById('responseMessage').textContent = '';
                                    }, 5000);
                                } else if (data.error) {
                                    document.getElementById('responseMessage').textContent = 'Error: ' + data.error;
                                }
                            })
                            .catch(error => {
                                document.getElementById('responseMessage').textContent = 'An error occurred. Please try again later.';
                            });
                    }
                });
            </script>
            <script>
                // Toggle review form visibility
                function toggleReviewForm() {
                    const form = document.getElementById('review-form');
                    form.style.display = form.style.display === 'none' ? 'block' : 'none';
                }

                // Load reviews
                async function loadReviews() {
                    const response = await fetch('/reviews');
                    const reviews = await response.json();
                    const reviewsList = document.getElementById('reviews-list');
                    reviewsList.innerHTML = ''; // Clear existing reviews

                    reviews.forEach(review => {
                        const reviewItem = document.createElement('div');
                        reviewItem.classList.add('review-item');
                        reviewItem.innerHTML = `
                    <h3>${review.Name}</h3>
                    <p><strong>Rating:</strong> ${review.Rating} / 5</p>
                    <p>${review.Review}</p>
                    <p><em>${review.Date}</em></p>
                `;
                        reviewsList.appendChild(reviewItem);
                    });
                }

                // Submit review
                document.getElementById('submitReview').addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const formData = new FormData(e.target);
                    const data = Object.fromEntries(formData);

                    await fetch('/submit-review', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(data),
                    });

                    toggleReviewForm(); // Hide form after submission
                    loadReviews(); // Reload reviews
                });

                // Load reviews on page load
                document.addEventListener('DOMContentLoaded', loadReviews);
            </script>
    </main>
    <footer style="background-color: #70460b;; color: white; text-align: center; padding: 10px;">
        <p>&copy; 2024 Kshudha Bhaji Pav Catering. All rights reserved.</p>
    </footer>
</body>

</html>